<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport"    content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">

	<title>Mulesoft | iTalent - Daisy Jansen</title>

	<link rel="shortcut icon" href="assets/images/logo_pxl_bol.png">

	<!-- Bootstrap -->
	<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css" rel="stylesheet">
	<!-- Icon font -->
	<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
	<!-- Fonts -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700">
	<!-- Custom styles -->
	<link rel="stylesheet" href="assets/css/styles.css">

	<!--[if lt IE 9]> <script src="assets/js/html5shiv.js"></script> <![endif]-->
</head>
<body>

<header id="header">
	<div id="head" class="parallax" parallax-speed="2">
		<h1 id="logo" class="text-center">
			<img class="img-circle" src="assets/images/image-2021-03-24-133826.jpeg" alt="">
			<span class="title">Mulesoft</span>
			<span class="tagline">iTalent<br>
				<a href="">Daisy Jansen</a></span>
		</h1>
	</div>

	<nav class="navbar navbar-default navbar-sticky">
		<div class="container-fluid">

			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
			</div>

			<div class="navbar-collapse collapse">

				<ul class="nav navbar-nav">
					<li class="active"><a href="index.html">Home</a></li>
					<li><a href="voorstelling.html">Voorstelling</a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Activiteiten <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li><a href="planning.html">Plannen van activiteiten</a></li>
							<li><a href="react.html">React-formulier</a></li>
							<li><a href="mule.html">Mule-project</a></li>
							<li><a href="extra.html">Extra's</a></li>
						</ul>
					</li>
					<li><a href="eindreflectie.html">Eindreflectie</a></li>
				</ul>

			</div><!--/.nav-collapse -->
		</div>
	</nav>
</header>

<main id="main">

	<div class="container">

		<div class="row topspace">

			<!-- Sidebar -->
			<aside class="col-md-4 sidebar sidebar-left">

				<div class="row widget">
					<div class="col-xs-12">
						<h4>Afbeeldingen</h4>
						<p>Klik op onderstaande afbeeldingen om deze in fullscreen te kunnen bekijken.</p>
					</div>
				</div>
				<div class="row widget">
					<div class="col-xs-12">
						<h4>Cursus</h4>
						<img id="1" class="fullscreen-img" src="assets/images/Mule-cursus.png" alt="Mule cursus resultaat" onclick="toggleFullscreen(this)">
						<p>Resultaten Mule-cursus</p>
					</div>
				</div>
				<div class="row widget">
					<div class="col-xs-12">
						<h4>Architectuur Mule-project</h4>
						<img id="2" class="fullscreen-img" src="assets/images/iTalent_Architectuur.jpg" alt="Architectuur" onclick="toggleFullscreen(this)">
						<p>Resultaten Mule-cursus</p>
					</div>
				</div>

				<div class="row widget">
				<div class="col-xs-12">
					<h4>Design Center</h4>
					<img id="3" class="fullscreen-img" src="assets/images/Voorbeeld%20RAML%20API-specification.png" alt="Design center" onclick="toggleFullscreen(this)">
					<p>Voorbeeld API-specification in RAML</p>
				</div>

				<div class="row widget">
					<div class="col-xs-12">
						<h4>Exchange</h4>
						<img id="4" class="fullscreen-img" src="assets/images/Exchange.png" alt="Exchange overzicht" onclick="toggleFullscreen(this)">
						<p>Exchange overzicht</p>
					</div>
				</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="5" class="fullscreen-img" src="assets/images/Exchange-example.png" alt="Exchange voorbeeld" onclick="toggleFullscreen(this)">
							<p>Exchange voorbeeld</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<h4>AnyPoint Studio</h4>
							<img id="6" class="fullscreen-img" src="assets/images/towns-xapi-tm.png" alt="Towns-xapi tranform message" onclick="toggleFullscreen(this)">
							<p>Towns-xapi tranform message</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="7" class="fullscreen-img" src="assets/images/towns-xapi-request.png" alt="Towns-xapi request" onclick="toggleFullscreen(this)">
							<p>Towns-xapi request</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="8" class="fullscreen-img" src="assets/images/towns-papi.png" alt="Towns-papi flow" onclick="toggleFullscreen(this)">
							<p>Towns-papi flow</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="9" class="fullscreen-img" src="assets/images/towns-sapi-request-db.png" alt="Towns-sapi request db" onclick="toggleFullscreen(this)">
							<p>Towns-sapi request database</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="10" class="fullscreen-img" src="assets/images/ev-sapi-flow.png" alt="Ev-sapi flow" onclick="toggleFullscreen(this)">
							<p>Ev-sapi flow</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="11" class="fullscreen-img" src="assets/images/smtp-sapi-send-mail.png" alt="SMTP-sapi e-mail verzenden" onclick="toggleFullscreen(this)">
							<p>Smtp-sapi e-mail verzenden</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<h4>MUnit</h4>
							<img id="12" class="fullscreen-img" src="assets/images/munit-towns-xapi.png" alt="MUnit towns-xapi" onclick="toggleFullscreen(this)">
							<p>MUnit towns-xapi</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="13" class="fullscreen-img" src="assets/images/munit-towns-papi-happy-flow.png" alt="MUnit towns-papi email sent" onclick="toggleFullscreen(this)">
							<p>MUnit towns-papi met verzenden e-mail</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="14" class="fullscreen-img" src="assets/images/munit-towns-papi-no-mail-sent.png" alt="MUnit towns-papi no email sent" onclick="toggleFullscreen(this)">
							<p>MUnit towns-papi zonder verzenden e-mail</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="15" class="fullscreen-img" src="assets/images/munit-towns-sapi.png" alt="MUnit towns-sapi" onclick="toggleFullscreen(this)">
							<p>MUnit towns-sapi</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="16" class="fullscreen-img" src="assets/images/munit-evi-sapi.png" alt="MUnit ev-sapi" onclick="toggleFullscreen(this)">
							<p>MUnit ev-sapi</p>
						</div>
					</div>

					<div class="row widget">
						<div class="col-xs-12">
							<img id="17" class="fullscreen-img" src="assets/images/munit-smtp-sapi.png" alt="MUnit smtp-sapi" onclick="toggleFullscreen(this)">
							<p>MUnit smtp-sapi</p>
						</div>
					</div>

			</div>

			</aside>			<!-- /Sidebar -->

			<!-- Article main content -->
			<article class="col-sm-8 maincontent">
				<header class="page-header">
					<h1 class="page-title">Mule-applicatie</h1>
					<p>Zie hieronder een kleine demo. Via het formulier worden gegevens ingevuld. Deze worden doorgestuurd
					naar de Mule-applicatie en gaat gegevens teruggeven die afkomstig zijn van andere API's. Via de
					resultatenpagina krijgen we de gemeenten te zien, via mail krijgen we nog extra informatie toegestuurd
					via een CSV-bestand.</p>
					<div style="padding:54.17% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/714404300?h=a4b7896e5b&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="Gemeente wijzer - Google Chrome 2022-05-26 22-05-37"></iframe></div><script src="https://player.vimeo.com/api/player.js"></script>
				</header>
				<h2>Cursus</h2>
				<p>
					Alvorens ik aan de slag ging met de Mule-applicatie, heb ik de "Getting Started"-cursus gevolgd via
					het trainingsplatform van Mulesoft omdat dit een compleet nieuwe technologie is, waarmee ik nog niet
					in aanraking ben gekomen. Inclusief oefeningen maken, heb ik er 15 uur over gedaan om de
					cursus af te ronden. Wat ik minder aangenaam vond aan de cursus, is dat de theorie bestond uit
					allemaal losse video's zonder tekst die ik nadien nog eens rustig zou kunnen lezen. Als ik iets
					wilde herhalen, moest ik dus de video opnieuw bekijken.
				</p>
				<p>
					Voor de rest vond ik de cursus wel aangenaam om te volgen, met duidelijke uitleg. Ik moet wel toegeven
					dat er enkele zaken waren die mij niet helemaal duidelijk waren tot ik er effectief praktisch mee aan
					de slag ben gegaan, maar dat kwam voornamelijk omdat dit iets compleet nieuw was, waar ik nog geen
					voorkennis of basiskennis voor had.</p>
				<p>Binnen de Mule-applicatie kom ik met drie nieuwe zaken in aanraking:</p>
				<ul>
					<li><a href="#api-design">API-design</a></li>
					<li><a href="#dataweave">Mule en DataWeave</a></li>
					<li><a href="#munit">MUnit</a></li>
				</ul>
				<div id="api-design">
					<h2>API-design</h2>
					<p>
						Binnen de Mule-applicatie kom ik met verschillende API’s en een client die data doorgeeft te maken.
						Hierdoor moest ik goed nadenken over hoe ik de architectuur van de applicatie moest opstellen.
					</p>
					<p>
						Ik heb 1 client die data doorgeeft, en dat is het formulier dat ik gemaakt heb in React. Maar
						dan moest ik beginnen nadenken en opzoeken waar ik data vandaan zou halen. Het leek mij ook heel
						leuk om te zien per gemeente waar laadpalen voor auto’s ter beschikking zouden zijn omdat zowel
						mijn vriend als ik een laadpaal nodig hebben voor onze auto’s, dus dat ik heb ook nog als extra
						dataset erbij genomen. Ik ben op zoek gegaan naar gratis API’s, zodat ik niet enkel met eigen
						data, maar ook met externe data zou werken die van een externe API afkomstig is. Uiteindelijk
						viel de beslissing dat ik 2 databases zelf ging voorzien, namelijk de towns-database en de
						EV-database. Ik had wel een database gevonden die op basis van de meegegeven naam de juiste
						coördinaten teruggeeft, wat ik dan weer kan gebruiken om data uit de EV-database op te halen.
					</p>
					<p>
						Vervolgens leek het mij ook heel leuk als ik een e-mail zou kunnen uitsturen met de gegevens die
						verzameld werden doorheen alle API’s en uiteindelijk teruggestuurd zou worden. Daarvoor had ik dan
						ook een SMTP-service nodig, ik koos Google hiervoor uit.
					</p>
					<p>
						Ik heb een tekening uitgewerkt van de architectuur van de applicatie, met de drie lagen waarin de
						Mule-applicatie opgedeeld is: de experience-laag (xapi) die in connectie staat met de clients, de
						process-laag (papi) waar de business logica zich bevindt, en de system-laag (sapi) waarbij deze laag
						in verbinding staat met bijvoorbeeld externe API’s of databases.
					</p>
					<p>
						Met de architectuur in mijn achterhoofd, begon ik de API-specificaties uit te werken in het Design
						Center in het AnyPoint-platform van Mulesoft. Er zijn verschillende manieren om deze mee uit te
						werken, maar ik heb voor RAML gekozen omdat dit de meest gebruikte techniek is voor deze stap.
					</p>
					<p>
						In het Design Center heb ik binnen de RAML-bestanden ook met datatypes en voorbeelden gewerkt, om
						het zo overzichtelijk mogelijk te maken. Een datatype heeft properties die meermaals gebruikt kunnen
						worden, en een example is een uitgewerkt voorbeeld van bijvoorbeeld zo een datatype. Elke endpoint
						moest op voorhand uitgeschreven worden met de juiste parameters, responses, body… Omdat dit de basis
						zal zijn van de volledige Mule-applicatie. Binnen deze tool kon de uitgeschreven endpoint ook al
						onmiddellijk getest worden binnen hetzelfde venster, zodat je onmiddellijk kon bijsturen indien er
						een fout gemaakt is.
					</p>
					<p>
						Wanneer de RAML-files af waren, heb ik deze gepubliceerd in Exchange binnen het AnyPoint-platform
						van Mulesoft. Dit is een plaats waar API-specificaties gedeeld kunnen worden, maar deze kunnen ook
						ingelezen worden bij het ontwikkelen in de IDE AnyPoint Studio. De gepubliceerde specificaties
						dienen ook als documentatie die ik bij de verdere ontwikkeling van het Mule-project gebruik als
						houvast, zodat ik de juiste standaarden blijf volgen. Dit is een beetje vergelijkbaar met Swagger,
						wat veel gebruikt wordt bij bijvoorbeeld Java-applicaties.
					</p>
					<h3>Reflectie</h3>
					<p>In deze stap ging het voornamelijk over de voorbereiding en het nadenken over de architectuur van de
						applicatie. Bij Mule-applicaties worden de API-specificaties altijd op voorhand vastgelegd, en wordt
						er op basis van die contracten verder ontwikkeld. Als developer was ik nog niet eerder in dit
						standpunt terechtgekomen, vaak werden de analyses voor mij gedaan. Het gaf mij wel een nieuw inzicht
						in hoe iets zeer simpels in elkaar kan zitten.
					</p>
					<p>
						De RAML-contracten opstellen was niet heel moeilijk, daarom wilde ik het nog wat uitbreiden door
						het effectief op te splitsen met types en examples. Het deed mij nadenken over welke informatie
						moet doorgegeven worden, wat teruggegeven moet worden en hoe de flow van de applicatie er uit
						zou zien. Op bepaalde momenten moet ik toegeven dat het mij toch allemaal wat ingewikkeld werd,
						maar na er even afstand van te hebben genomen, zag ik de verbanden weer opnieuw.
					</p>
					<p>
						In de opleiding Switch2IT wordt er enorm veel gefocust op het programmeren, en iets minder op
						het analyseren, al was ik toch blij met de basiskennis die de vakken Projectmanagement en
						Software Analysis mij gegeven hebben.
					</p>
					<p>
						Ik heb verder in het proces geleerd dat deze contracten enorm belangrijk zijn bij
						integratieprojecten. Via deze contracten heb je altijd een houvast en kan je er altijd naar
						terugkijken als je even het noorden kwijt bent. Ik vond het alleszins heel leerrijk om te doen,
						omdat ik nu langer bij zo een gegeven ben blijven stilstaan dan wanneer ik dat normaal zou doen.
						Ik heb op voorhand al volledig uitgedacht wat mijn applicatie gaat doen en op welke manier.
					</p>
					<p>
						Ik heb deze opdracht geselecteerd voor de bespreking in het portfolio omdat dit een belangrijk
						onderdeel vormt voor een Mule-applicatie. Ik heb nog nooit eerder API-specificaties opgesteld,
						maar begrijp dat dit in de bedrijfswereld een belangrijk gegeven is dat dit eerst goedgekeurd
						moet worden alvorens er wordt overgegaan tot de effectieve ontwikkeling, en ik ben blij dat ik
						mij hier ook wat in heb verdiept.
					</p>
				</div>
				<div id="dataweave">
					<h2>Mule</h2>
					<p>
						Bij een Mule-applicatie zijn er drie lagen: de experience-laag, de process-laag en de system-laag.
						Ik ben van boven (experience) naar onder (system) beginnen werken omdat dit voor mij het
						makkelijkste was.
					</p>
					<p>
						Ik begon met de towns-xapi. Deze api zal de gegevens van het formulier binnenkrijgen, de data
						omvormen en vervolgens een request doorsturen naar de towns-papi. De data omvormen, of mappen,
						is iets dat heel veel voorkomt binnen integratieprojecten, omdat er met verschillende API’s
						gewerkt worden en deze allemaal op elkaar afgestemd moeten zijn. Indien er bijvoorbeeld een API
						wijzigt, moet niet de hele flow aangepast worden van alle API’s, meer enkel de API die de data
						zal mappen. Dit werkt heel productief.
					</p>
					<p>
						Ik ben begonnen met een transform message toe te voegen, die de payload moet omvormen. Dat
						omvormen gebeurt met DataWeave. Omdat de omvorming goed moet gebeuren en er geen fouten in mogen
						sluipen, heb ik gewerkt met <a href="https://developer.mulesoft.com/learn/dataweave/" target="_blank">
						DataWeave Playground</a>. Dit is een online platform waar je je input kan ingeven, vervolgens je
						script in DataWeave uitschrijven en kijken wat je als output krijgt. Deze tool heb ik enorm veel
						gebruikt. Vervolgens heb ik een request toegevoegd die met de gemapte data de volgende api gaan
						aanspreken, namelijk de towns-papi.
					</p>
					<p>
						Bij het aanmaken van de towns-papi heb ik ook gevonden hoe ik de host en de port moet instellen
						van de API, dus dat heb ik ook even in orde gemaakt bij de towns-xapi. De towns-papi is de
						grootste API, omdat hier het meeste logica in zit. De payload die binnenkwam heb ik opgevangen
						en verschillende zaken opgeslagen in variabelen. Binnen Mule-applicaties wordt gewerkt met flows,
						en binnen de towns-papi werk ik met verschillende requesten, die niet allemaal gegevens nodig
						hebben van het voorgaande in de flow. Dat was even aanpassen van werken, dat dit allemaal op
						elkaar opvolgde en ik bepaalde data dus kwijt was na een request indien ik dat niet had
						opgeslagen in een variabele. In de towns-papi doe ik een request naar de towns-sapi, voor elke
						town die ik daaruit terugkreeg deed ik een request naar de ev-sapi, en op het einde deed ik een
						request naar de smtp-sapi indien er in het formulier aangeduid werd dat ze een mail wensten te
						ontvangen. De towns-papi geeft een respons terug aan de towns-xapi, namelijk de namen van de
						gemeenten die zij heeft teruggekregen van de towns-sapi.
					</p>
					<p>
						Dit zijn zaken die niet direct getest kunnen worden, omdat bijvoorbeeld de towns-sapi nog niet
						bestaat. In de bedrijfswereld valt het ook al eens voor dat de contracten al uitgeschreven zijn
						van een externe API, maar dat ze die nog aan het ontwikkelen zijn. Daarom zijn die specificaties
						en die contracten zo belangrijk om te behandelen als basis en daar op verder te werken, en dat
						daar dan aan vastgehouden wordt. Het is ook mogelijk om als integratieontwikkelaar zo een
						externe API voor andere developers te moeten ontwikkelen, en dan moet er ook vastgehouden worden
						aan die specificaties.
					</p>
					<p>
						Dan de process-laag, moet de system-laag ontwikkeld worden. Dit zijn de API’s die in contact
						staan met externe API’s, databases…
					</p>
					<p>
						De towns-sapi en de ev-sapi waren relatief simpel nadat de towns-papi ontwikkeld waren. Bij de
						towns-sapi wordt een request gedaan naar een database, en die data wordt dan gemapt en
						teruggegeven. Bij de towns-sapi wordt een request gedaan naar de externe API met de naam van de
						gemeente die wordt meegegeven, en de request stuurt de coördinaten terug. Deze coördinaten
						werden vervolgens gebruikt om gegevens uit de EV-database te halen, te mappen en terug te geven.
					</p>
					<p>
						De smtp-sapi is een API die ervoor zou moeten zorgen dat er effectief een e-mail uitgestuurd kon
						worden via Gmail. Eerst moest de binnenkomende data omgevormd worden tot een CSV-formaat (om mee
						te kunnen geven als bijlage aan de e-mail), dan werd de e-mail verzonden en uiteindelijk werd er
						nog een tranform message aan de flow toegevoegd om een response terug te kunnen geven dat het
						versturen van de e-mail gelukt is.
					</p>
					<p>
						Vervolgens heb ik alle API’s tegelijk opgestart en kreeg ik inderdaad informatie terug via de
						esultatenpagina van het formulier.
					</p>
					<h3>Reflectie</h3>
					<p>
						Tijdens het ontwikkelen van de verschillende API’s ben ik tegen verschillende problemen
						aangelopen. Een daarvan ligt aan de IDE Anypoint Studio zelf. Wanneer er iets gewijzigd is, moet
						direct uit het element geklikt worden, gevolgd door ctrl + s, want anders zit de kans er in dat
						de wijzigingen niet opgeslagen zijn. Dit heb ik enkele keren meegemaakt, wat best frustrerend is.
					</p>
					<p>
						Ook het verzenden van de e-mail verliep niet vlekkeloos. Na opzoekingswerk op Google bleken
						meerdere mensen daar problemen mee te hebben, en hebben ze een extra regel code in de XML van de
						flow moeten toevoegen. Ook bij mij was daar het probleem mee opgelost.
					</p>
					<p>
						Ik wilde ook heel graag de applicatie hosten via AnyPoint Platform, maar omdat ik met een
						trial-account aan het werken was, zou dat na enkele weken weer afgesloten worden. Voor alle
						veiligheid heb dit dus lokaal gelaten, zodat ik zeker was dat het werkte.
					</p>
					<p>
						De API’s opstarten, het formulier invullen een response terugkrijgen verliep ook niet volledig
						zonder problemen. Ik liep namelijk in de frontend tegen een CORS-probleem aan. Dit is een
						probleem dat wel vaker voorvalt tussen frontend- en backend-applicaties. Cross-Origin Resource
						Sharing is een protocol dat toestemming geeft om van een domein toegang te krijgen tot een ander
						domein. Hier heb ik vrij veel tijd aan verloren, omdat ik niet goed wist hoe ik dit moest
						oplossen in de Mule-applicatie. Uiteindelijk heb ik na lang zoeken op Google gevonden dat ik in
						de towns-xapi (de API die direct in contact staat met de client) bij de HTTP Listener config een
						http:public-resource moest toevoegen. Hierna was dat probleem ook opgelost.
					</p>
					<p>
						Ik moet toegeven dat ik in het begin niet helemaal overtuigd was van Mulesoft, omdat het vrij
						low-code is. Ook de flows zijn drag-and-drop, waardoor het allemaal “simpel” oogt, met de nadruk
						op ‘oogt’. Er zit namelijk heel wat configuratie en denkwerk achter om alles op elkaar afgestemd
						te krijgen. Dit is zeer anders dan frontend- of backend-werk en ik vond het zeker eens aangenaam
						om gedaan te hebben. Het is een hele andere manier van werken. Ik denk zeker dat hier nog wel
						toekomst in zit, zeker omdat microservices meer en meer beginnen opkomen. Wat ik wel heb gemerkt
						aan alles binnen Mulesoft, is dat het vrij prijzig is. Bedrijven moeten best een grote som
						neerleggen om de software te betalen, en dan zijn de developers er nog niet mee betaald.
					</p>
					<p>
						Ik heb enorm veel geleerd van dit project, vooral in termen van architectuur en hoe alles in
						verbinding staat met alles. Flows, endpoints, contracten… Het zijn zaken waar ik eerder nooit zo
						direct bij heb stilgestaan.
					</p>
					<p>
						Mijn sterke punten zijn dat ik vrij snel met het flow-principe weg was. Het was even zoeken in
						het begin, maar ik leg vrij snel linken qua logica op enkele problemen na. Mijn grote zwakke
						punten tijdens dit project zijn dat ik mijn oriëntatie regelmatig kwijtgeraakte en ook niet goed
						letterlijk kan onthouden. Ik moest dus constant mijn API-specificaties openhouden en de
						architectuurtekening om mij opnieuw te kunnen oriënteren.
					</p>
					<p>
						De grote link met de opleiding van PXL is microservices. Microservices zijn wel vaker
						teruggekomen in de opleiding en worden steeds belangrijker geacht, maar het is eigenlijk ook
						best interessant om deze technologie eens te bekijken. Ik snap dat het niet mogelijk is om hier
						een vak over op te richten, maar er zijn misschien bedrijven die eens een seminarie hierover
						willen geven? Wat het dan weer interessant maakt voor de reguliere studenten die seminaries
						moeten volgen voor iTalent ;-).
					</p>
					<p>
						Ik heb deze opdracht geselecteerd voor mijn portfolio, voornamelijk omdat het een andere manier
						van ontwikkelen is met een andere manier van denken, maar dat het daarom niet minderwaardig
						ingeschat moet worden dan bijvoorbeeld een backend-project in Java. Het was zeer interessant en
						leerrijk om mij hier eens in verdiept te hebben.
					</p>
				</div>
				<div id="munit">
					<h2>MUnit</h2>
					<p>
						Ik heb niet volgens de TDD-manier gewerkt, maar toch wilde ik ook graag de code testen, of er
						geen foutje in geslopen was. Ook hier heb ik van boven (experience) naar onder (system) gewerkt.
					</p>
					<p>
						De unittesten binnen het Mule-project worden opgesteld met MUnit. Bij een unittest zijn telkens
						drie velden aanwezig voor de flow in de test: behavior, execution en validation.
					</p>
					<p>
						Ik begon dus met de unittest van towns-xapi. In de towns-xapi wordt de payload gemapt en
						vervolgens meegegeven met het request naar de towns-papi. De request naar de towns-papi heb ik
						in een mock gestoken, met vervolgens daar een spy op. In deze spy heb ik eerst nog een variabele
						aangemaakt met de payload die meegegeven zou moeten worden. Vervolgens vergelijk ik de effectief
						meegegeven payload met de variabele of deze overeenkomen. De flow-ref bij de execution was reeds
						aanwezig, dat is de request dat naar deze api komt. Daarvoor heb ik een transform-message
						geplaatst, waarin ik representatieve data heb gestoken die binnen zou kunnen komen in de
						towns-xapi. Vervolgens valideer ik nog even of de towns-papi (die ik gemockt heb) exact een keer
						aangeroepen wordt.
					</p>
					<p>
						De unittesten van de towns-papi zijn veel meer uitgebreid en moeilijker om effectief alles
						getest te krijgen. Hier heb ik dan ook twee flows aangemaakt: de happy flow waar alles getest
						wordt, en de flow waar er geen e-mail verzonden wordt. Omdat hier drie verschillende API’s
						aangesproken worden in de happy flow vanuit de towns-papi, worden deze alledrie ook gemockt. Ook
						check ik voor elke call naar elke API of de juiste payload wordt doorgegeven. Bij execution heb
						ik ook hier, net zoals bij de towns-xapi een representatieve payload gezet die binnenkomt bij
						towns-papi. Vervolgens heb ik bij de Validation-step gekeken of de gemockte methodes het juiste
						aantal keer aangeroepen werden (get charging points meermaals omdat er meerdere gemeenten
						aanwezig waren), gezorgd dat de ordening van de gemeenten in orde is (het hoogst mogelijke
						bedrag bovenaan op de eerste plaats) en of het resultaat dat terug naar de towns-xapi wordt
						gegeven correct is. Dan heb ik vervolgens nog een flow gemaakt waarbij in het formulier niet
						aangeduid werd om een mail te ontvangen, waardoor er ook effectief geen mail verstuurd mag
						worden.
					</p>
					<p>
						In de towns-sapi was het weer iets simpeler omdat ik moest testen of de database eenmaal
						aangeroepen werd en of de payload die teruggegeven werd naar de towns-papi overeenkomt met wat
						het echt zou moeten zijn.
					</p>
					<p>
						Bij de ev-sapi moest ik twee zaken mocken, namelijk de call naar de externe api om de
						coördinaten op te kunnen vragen, en de call naar de database die met de ontvangen coördinaten
						het aantal oplaadpunten kan teruggeven van de gemeente met die coördinaten. Hierbij heb ik ook
						een event aangemaakt waarbij ik representatieve query parameters invul die zouden binnengekomen
						kunnen zijn in de ev-sapi, waarna ik ging valideren of de externe api en de database exact
						eenmaal aangeroepen zijn en of de payload naar de towns-papi correct was.
					</p>
					<p>
						Bij de unittesten van smtp-sapi heb ik gemockt dat de e-mail verstuurd werd, met daarop een spy
						om te kijken alvorens de call gebeurt of de payload gelijk is aan de payload die ik had
						opgesteld, namelijk de CSV-data. Ook kijk ik na of de e-mail eenmaal verzonden geworden geweest
						zou zijn en of de response van de payload gelijk is aan “Mail sent successfully” om te kijken of
						het verzenden van de mail gelukt is.
					</p>
					<h3>Reflectie</h3>
					<p>
						Ik ben altijd wat minder goed geweest in het mocken van objecten in Java, maar omdat alles hier
						zo klein opgesplitst was (en omdat dit waarschijnlijk nog geen uitgebreide applicatie is),
						verliep het relatief vlot. De afgebakende onderdeeltjes hielpen mij goed om bepaalde zaken,
						zoals het mocken, te begrijpen.
					</p>
					<p>
						Hetgeen echt niet vlot ging, waren de unittesten van de process-API. Hier was enorm veel
						aanwezig, er moesten veel zaken gemockt worden, er moest meerdere malen een spy toegevoegd
						worden, en in de validatie kwamen ook relatief veel zaken terug.
					</p>
					<p>
						Het heeft ook een tijdje geduurd voor ik door had dat ik ook effectief data moest ingeven die
						effectief binnengekomen zou kunnen zijn, zodat de test daarmee verder kan. Klinkt uiteraard heel
						logisch, maar toch was het even zoeken voor mij.
					</p>
					<p>
						De link met de opleiding is hier heel duidelijk: namelijk dat testen enorm belangrijk is. Er
						wordt regelmatig gesproken van TDD (Test Driven Development), maar dat heb ik hier niet
						toegepast. Ik wilde eerst wegwijs raken met de IDE en de technologie, en de testen heb ik als
						laatste geschreven als controle.
					</p>
					<p>
						Ik heb dan ook voor MUnit gekozen omdat ik vind dat testen niet mag ontbreken, zeker niet in een
						integratieproject. Het is zeer belangrijk om er zeker van te zijn dat je de data die in en uit
						de applicatie gaat goed mapt en gebruikt, omdat andere applicaties hier afhankelijk van zijn.
						Hier komt dan natuurlijk ook de link naar de API-specificaties weer naar boven: ik heb gebruik
						gemaakt van de voorbeelden uit de contracten om mee te geven als beginwaarden, en kijk dan of de
						uitkomsten zijn wat ik verwacht dat ze zouden moeten zijn.
					</p>
				</div>




			</article>
			<!-- /Article -->


		</div>
	</div>	<!-- /container -->

</main>

<footer id="underfooter">
	<div class="container">
		<div class="row">

			<div class="col-md-6 widget">
				<div class="widget-body">
					<p></p>
				</div>
			</div>

			<div class="col-md-6 widget">
				<div class="widget-body">
					<p class="text-right">
						Copyright &copy; 2021-2022, Daisy Jansen<br>
					</p>
				</div>
			</div>

		</div> <!-- /row of widgets -->
	</div>
</footer>





<!-- JavaScript libs are placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="assets/js/template.js"></script>
</body>
</html>
